<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daftar Kode 111000 dengan Filter</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
  h2 { color: darkblue; }
  input { padding: 6px 10px; font-size: 16px; margin-bottom: 10px; width: 200px; }
  .list { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); max-height: 60vh; overflow-y: auto; }
  .item { padding: 4px 0; border-bottom: 1px solid #eee; }
</style>
</head>
<body>
<h2>Daftar Kode Aset berawalan <code>111000</code></h2>
<input type="text" id="filterInput" placeholder="Filter akhiran...">
<div id="count"></div>
<div class="list" id="list"></div>

<script>
const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTafvAiaKbaQt2RIboLf9nY6v8mltXLhSN4R-l-LZGFmic1p0-83knr-g-bFEoPDB8Rl2T661YdYFTj/pub?gid=1753334008&single=true&output=csv";
let filteredCodes = [];

fetch(csvUrl)
  .then(res => res.text())
  .then(text => {
    const rows = text.split(/\r?\n/).map(r => r.split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/));
    rows.shift();
    filteredCodes = rows.map(r => r[4]).filter(k => k && k.startsWith("111000")).sort();
    displayList(filteredCodes);
  });

document.getElementById("filterInput").addEventListener("input", function() {
  const val = this.value.trim();
  const filtered = filteredCodes.filter(k => k.includes(val));
  displayList(filtered);
});

function displayList(codes) {
  document.getElementById("count").textContent = "Jumlah kode ditemukan: " + codes.length;
  const listDiv = document.getElementById("list");
  listDiv.innerHTML = "";
  codes.forEach(k => {
    const div = document.createElement("div");
    div.className = "item";
    div.textContent = k;
    listDiv.appendChild(div);
  });
}
</script>
</body>
</html>
